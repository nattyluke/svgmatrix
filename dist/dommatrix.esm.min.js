// DOMMatrix v0.0.9 | thednp Â© 2021 | MIT-License
function m(m,t){const e=Array.from(t);if(16===e.length){const[t,n,s,r,a,i,o,l,c,u,f,h,w,y,p,M]=e;m.m11=t,m.a=t,m.m21=a,m.c=a,m.m31=c,m.m41=w,m.e=w,m.m12=n,m.b=n,m.m22=i,m.d=i,m.m32=u,m.m42=y,m.f=y,m.m13=s,m.m23=o,m.m33=f,m.m43=p,m.m14=r,m.m24=l,m.m34=h,m.m44=M}else{if(6!==e.length)throw new TypeError("CSSMatrix: expecting a 6/16 values Array");{const[t,n,s,r,a,i]=e;m.m11=t,m.a=t,m.m12=n,m.b=n,m.m21=s,m.c=s,m.m22=r,m.d=r,m.m14=a,m.e=a,m.m24=i,m.f=i}}return m}function t(t,e){return m(t,[e.m11,e.m12,e.m13,e.m14,e.m21,e.m22,e.m23,e.m24,e.m31,e.m32,e.m33,e.m34,e.m41,e.m42,e.m43,e.m44])}function e(e,n){const s=String(n).trim(),r=180/Math.PI,a=Object.assign(Object.create(e),e);let i=Object.assign(Object.create(e),e);return s.replace(/\s/g,"").split(")").filter(m=>m).forEach(t=>{const[e,n]=t.split("("),[s,o,l,c]=n.split(",").map(m=>m.includes("rad")?parseFloat(m)*r:parseFloat(m)),u=[s,o,l],f=[s,o,l,c];if("perspective"===e)i.m34=-1/s;else if(e.includes("matrix")){const t=n.split(",").map(parseFloat).map(m=>Math.abs(m)<1e-6?0:m);[6,16].indexOf(t.length)>-1&&(i=i.multiply(m(a,t)))}else if(["translate","translate3d"].some(m=>e===m)&&s)i=i.translate(s,o||0,l||0);else if("rotate3d"===e&&f.every(m=>"number"==typeof m)&&c)i=i.rotateAxisAngle(s,o,l,c);else if("scale3d"===e&&u.every(m=>"number"==typeof m)&&u.some(m=>1!==m)){const m=1!==s?s:1,t=1!==o?o:1,e=1!==l?l:1;i=i.scale(m,t,e)}else if("rotate"===e&&s)i=i.rotate(0,0,s);else if("scale"===e&&"number"==typeof s&&1!==s){const m=void 0===o,t=1===s?1:s;let e=m?t:o;e=1===e?1:e;const n=m?t:1;i=i.scale(t,e,n)}else if("skew"===e&&(s||o))i=s?i.skewX(s):i,i=o?i.skewY(o):i;else if(/[XYZ]/.test(e)&&s)if(e.includes("skew"))i=i[e](s);else{const m=e.replace(/[XYZ]/,""),t=["X","Y","Z"],n=e.replace(m,""),r=t.indexOf(n),a=[0===r?s:0,1===r?s:0,2===r?s:0];i=i[m](...a)}}),t(e,i)}function n(m,t,e,n){return m.m41=t,m.e=t,m.m42=e,m.f=e,m.m43=n,m}function s(m,t,e,n){const s=Math.PI/180,r=t*s,a=e*s,i=n*s,o=Math.cos(r),l=-Math.sin(r),c=Math.cos(a),u=-Math.sin(a),f=Math.cos(i),h=-Math.sin(i),w=c*f,y=-c*h;m.m11=w,m.a=w,m.m12=y,m.b=y,m.m13=u;const p=l*u*f+o*h;m.m21=p,m.c=p;const M=o*f-l*u*h;return m.m22=M,m.d=M,m.m23=-l*c,m.m31=l*h-o*u*f,m.m32=l*f+o*u*h,m.m33=o*c,m}function r(m,t,e,n,s){const r=s*(Math.PI/360),a=Math.sin(r),i=Math.cos(r),o=a*a,l=Math.sqrt(t*t+e*e+n*n);let c=t,u=e,f=n;0===l?(c=0,u=0,f=1):(c/=l,u/=l,f/=l);const h=c*c,w=u*u,y=f*f,p=1-2*(w+y)*o;m.m11=p,m.a=p;const M=2*(c*u*o+f*a*i);m.m12=M,m.b=M,m.m13=2*(c*f*o-u*a*i);const x=2*(u*c*o-f*a*i);m.m21=x,m.c=x;const d=1-2*(y+h)*o;return m.m22=d,m.d=d,m.m23=2*(u*f*o+c*a*i),m.m31=2*(f*c*o+u*a*i),m.m32=2*(f*u*o-c*a*i),m.m33=1-2*(h+w)*o,m}function a(m,t,e,n){return m.m11=t,m.a=t,m.m22=e,m.d=e,m.m33=n,m}function i(m,t){const e=t*Math.PI/180,n=Math.tan(e);return m.m21=n,m.c=n,m}function o(m,t){const e=t*Math.PI/180,n=Math.tan(e);return m.m12=n,m.b=n,m}function l(t,e,n){return m(t,[n.m11*e.m11+n.m12*e.m21+n.m13*e.m31+n.m14*e.m41,n.m11*e.m12+n.m12*e.m22+n.m13*e.m32+n.m14*e.m42,n.m11*e.m13+n.m12*e.m23+n.m13*e.m33+n.m14*e.m43,n.m11*e.m14+n.m12*e.m24+n.m13*e.m34+n.m14*e.m44,n.m21*e.m11+n.m22*e.m21+n.m23*e.m31+n.m24*e.m41,n.m21*e.m12+n.m22*e.m22+n.m23*e.m32+n.m24*e.m42,n.m21*e.m13+n.m22*e.m23+n.m23*e.m33+n.m24*e.m43,n.m21*e.m14+n.m22*e.m24+n.m23*e.m34+n.m24*e.m44,n.m31*e.m11+n.m32*e.m21+n.m33*e.m31+n.m34*e.m41,n.m31*e.m12+n.m32*e.m22+n.m33*e.m32+n.m34*e.m42,n.m31*e.m13+n.m32*e.m23+n.m33*e.m33+n.m34*e.m43,n.m31*e.m14+n.m32*e.m24+n.m33*e.m34+n.m34*e.m44,n.m41*e.m11+n.m42*e.m21+n.m43*e.m31+n.m44*e.m41,n.m41*e.m12+n.m42*e.m22+n.m43*e.m32+n.m44*e.m42,n.m41*e.m13+n.m42*e.m23+n.m43*e.m33+n.m44*e.m43,n.m41*e.m14+n.m42*e.m24+n.m43*e.m34+n.m44*e.m44])}class c{constructor(...m){const t=this;if(t.a=1,t.b=0,t.c=0,t.d=1,t.e=0,t.f=0,t.m11=1,t.m12=0,t.m13=0,t.m14=0,t.m21=0,t.m22=1,t.m23=0,t.m24=0,t.m31=0,t.m32=0,t.m33=1,t.m34=0,t.m41=0,t.m42=0,t.m43=0,t.m44=1,m&&m.length){let e=m;m instanceof Array&&(m[0]instanceof Array&&[16,6].includes(m[0].length)||"string"==typeof m[0]||[c,DOMMatrix].some(t=>m[0]instanceof t))&&([e]=m),t.setMatrixValue(e)}return t}set isIdentity(m){this.isIdentity=m}get isIdentity(){const m=this;return 1===m.m11&&0===m.m12&&0===m.m13&&0===m.m14&&0===m.m21&&1===m.m22&&0===m.m23&&0===m.m24&&0===m.m31&&0===m.m32&&1===m.m33&&0===m.m34&&0===m.m41&&0===m.m42&&0===m.m43&&1===m.m44}get is2D(){const m=this;return 0===m.m31&&0===m.m32&&1===m.m33&&0===m.m34&&0===m.m43&&1===m.m44}set is2D(m){this.is2D=m}setMatrixValue(n){const s=this;return[DOMMatrix,c].some(m=>n instanceof m)&&t(s,n),"string"==typeof n&&n.length&&"none"!==n&&e(s,n),Array.isArray(n)&&m(s,n),s}toString(){const m=this.toArray().join(",");return`${this.is2D?"matrix":"matrix3d"}(${m})`}toArray(){const m=this;let t;return t=m.is2D?[m.a,m.b,m.c,m.d,m.e,m.f]:[m.m11,m.m12,m.m13,m.m14,m.m21,m.m22,m.m23,m.m24,m.m31,m.m32,m.m33,m.m34,m.m41,m.m42,m.m43,m.m44],t.map(m=>Math.abs(m)<1e-6?0:(m*10**6>>0)/10**6)}multiply(m){return l(new c,this,m)}translate(m,t,e){let s=t,r=e;return null==r&&(r=0),null==s&&(s=0),l(new c,this,n(new c,m,s,r))}scale(m,t,e){let n=t,s=e;return null==n&&(n=m),null==s&&(s=m),l(new c,this,a(new c,m,n,s))}rotate(m,t,e){let n=m,r=t,a=e;return null==r&&(r=0),null==a&&(a=n,n=0),l(new c,this,s(new c,n,r,a))}rotateAxisAngle(m,t,e,n){if(4!==arguments.length)throw new TypeError("CSSMatrix: expecting 4 values");return l(new c,this,r(new c,m,t,e,n))}skewX(m){return l(new c,this,i(new c,m))}skewY(m){return l(new c,this,o(new c,m))}transformPoint(m){let t=n(new c,m.x,m.y,m.z);return t.m44=m.w||1,t=this.multiply(t),{x:t.m41,y:t.m42,z:t.m43,w:t.m44}}transform(m){const t=this,e=t.m11*m.x+t.m12*m.y+t.m13*m.z+t.m14*m.w,n=t.m21*m.x+t.m22*m.y+t.m23*m.z+t.m24*m.w,s=t.m31*m.x+t.m32*m.y+t.m33*m.z+t.m34*m.w,r=t.m41*m.x+t.m42*m.y+t.m43*m.z+t.m44*m.w;return{x:e/r,y:n/r,z:s/r,w:r}}}c.Translate=n,c.Rotate=s,c.RotateAxisAngle=r,c.Scale=a,c.SkewX=i,c.SkewY=o,c.Multiply=l,c.fromArray=m,c.fromMatrix=t,c.fromString=e;export{c as default};
