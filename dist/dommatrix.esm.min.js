// DOMMatrix v0.0.4f | thednp Â© 2021 | MIT-License
function m(m,t,n){var r=new s;return r.m41=r.e=m,r.m42=r.f=t,r.m43=n,r}function t(m,t,n){var r=new s;m*=Math.PI/180,t*=Math.PI/180,n*=Math.PI/180;var e=Math.cos(m),i=-Math.sin(m),a=Math.cos(t),u=-Math.sin(t),o=Math.cos(n),f=-Math.sin(n);return r.m11=r.a=a*o,r.m12=r.b=-a*f,r.m13=u,r.m21=r.c=i*u*o+e*f,r.m22=r.d=e*o-i*u*f,r.m23=-i*a,r.m31=i*f-e*u*o,r.m32=i*o+e*u*f,r.m33=e*a,r}function n(m,t,n,r){r*=Math.PI/360;var e=Math.sin(r),i=Math.cos(r),a=e*e,u=Math.sqrt(m*m+t*t+n*n);0===u?(m=0,t=0,n=1):(m/=u,t/=u,n/=u);var o=m*m,f=t*t,c=n*n,h=new s;return h.m11=h.a=1-2*(f+c)*a,h.m12=h.b=2*(m*t*a+n*e*i),h.m13=2*(m*n*a-t*e*i),h.m21=h.c=2*(t*m*a-n*e*i),h.m22=h.d=1-2*(c+o)*a,h.m23=2*(t*n*a+m*e*i),h.m31=2*(n*m*a+t*e*i),h.m32=2*(n*t*a-m*e*i),h.m33=1-2*(o+f)*a,h.m14=h.m24=h.m34=0,h.m41=h.e=h.m42=h.f=h.m43=0,h.m44=1,h}function r(m,t,n){var r=new s;return r.m11=r.a=m,r.m22=r.d=t,r.m33=n,r}function e(m){m*=Math.PI/180;var t=new s;return t.m21=t.c=Math.tan(m),t}function i(m){m*=Math.PI/180;var t=new s;return t.m12=t.b=Math.tan(m),t}function a(m,t){var n=t.m11*m.m11+t.m12*m.m21+t.m13*m.m31+t.m14*m.m41,r=t.m11*m.m12+t.m12*m.m22+t.m13*m.m32+t.m14*m.m42,e=t.m11*m.m13+t.m12*m.m23+t.m13*m.m33+t.m14*m.m43,i=t.m11*m.m14+t.m12*m.m24+t.m13*m.m34+t.m14*m.m44,a=t.m21*m.m11+t.m22*m.m21+t.m23*m.m31+t.m24*m.m41,u=t.m21*m.m12+t.m22*m.m22+t.m23*m.m32+t.m24*m.m42,o=t.m21*m.m13+t.m22*m.m23+t.m23*m.m33+t.m24*m.m43,f=t.m21*m.m14+t.m22*m.m24+t.m23*m.m34+t.m24*m.m44,c=t.m31*m.m11+t.m32*m.m21+t.m33*m.m31+t.m34*m.m41,h=t.m31*m.m12+t.m32*m.m22+t.m33*m.m32+t.m34*m.m42,l=t.m31*m.m13+t.m32*m.m23+t.m33*m.m33+t.m34*m.m43,y=t.m31*m.m14+t.m32*m.m24+t.m33*m.m34+t.m34*m.m44,x=t.m41*m.m11+t.m42*m.m21+t.m43*m.m31+t.m44*m.m41,w=t.m41*m.m12+t.m42*m.m22+t.m43*m.m32+t.m44*m.m42,M=t.m41*m.m13+t.m42*m.m23+t.m43*m.m33+t.m44*m.m43,v=t.m41*m.m14+t.m42*m.m24+t.m43*m.m34+t.m44*m.m44;return new s([n,a,c,x,r,u,h,w,e,o,l,M,i,f,y,v])}function u(m,t){var n=Array.from(t);if(16==n.length)m.m11=m.a=n[0],m.m21=m.c=n[1],m.m31=n[2],m.m41=m.e=n[3],m.m12=m.b=n[4],m.m22=m.d=n[5],m.m32=n[6],m.m42=m.f=n[7],m.m13=n[8],m.m23=n[9],m.m33=n[10],m.m43=n[11],m.m14=n[12],m.m24=n[13],m.m34=n[14],m.m44=n[15];else{if(6!=n.length)throw new TypeError("CSSMatrix: expecting a 6/16 values Array");m.m11=m.a=n[0],m.m12=m.b=n[1],m.m14=m.e=n[4],m.m21=m.c=n[2],m.m22=m.d=n[3],m.m24=m.f=n[5]}return m}var s=function(){for(var m=[],t=arguments.length;t--;)m[t]=arguments[t];return this.setIdentity(),m&&m.length&&this.setMatrixValue(m)},o={isIdentity:{configurable:!0},is2D:{configurable:!0}};o.isIdentity.get=function(){var m=this;return 1==m.m11&&0==m.m12&&0==m.m13&&0==m.m14&&0==m.m21&&1==m.m22&&0==m.m23&&0==m.m24&&0==m.m31&&0==m.m32&&1==m.m33&&0==m.m34&&0==m.m41&&0==m.m42&&0==m.m43&&1==m.m44},o.isIdentity.set=function(m){this.isIdentity=m},o.is2D.get=function(){var m=this;return 0==m.m31&&0==m.m32&&1==m.m33&&0==m.m34&&0==m.m43&&1==m.m44},o.is2D.set=function(m){this.is2D=m},Object.defineProperties(s.prototype,o);var f=s.prototype;f.setMatrixValue=function(m){var t=this;if(!m||!m.length)return t;if(m.length&&"string"==typeof m[0]&&m[0].length){var n,r,e=String(m[0]).trim();if("none"==e)return t;if(n=e.slice(0,e.indexOf("(")),r=e.slice("matrix"===n?7:9,-1).split(",").map((function(m){return Math.abs(m)<1e-6?0:+m})),!([6,16].indexOf(r.length)>-1))throw new TypeError("CSSMatrix: expecting valid CSS matrix() / matrix3d() syntax");u(t,r)}else m[0]instanceof s?u(t,m[0].toArray()):Array.isArray(m[0])?u(t,m[0]):Array.isArray(m)&&u(t,m);return t},f.toString=function(){return(this.is2D?"matrix":"matrix3d")+"("+this.toArray(1).join(",")+")"},f.toArray=function(m){var t=this;return t.is2D?[t.a,t.b,t.c,t.d,t.e,t.f]:m?[t.m11,t.m12,t.m13,t.m14,t.m21,t.m22,t.m23,t.m24,t.m31,t.m32,t.m33,t.m34,t.m41,t.m42,t.m43,t.m44]:[t.m11,t.m21,t.m31,t.m41,t.m12,t.m22,t.m32,t.m42,t.m13,t.m23,t.m33,t.m43,t.m14,t.m24,t.m34,t.m44]},f.multiply=function(m){return a(this,m)},f.translate=function(t,n,r){return null==r&&(r=0),null==n&&(n=0),a(this,m(t,n,r))},f.scale=function(m,t,n){return null==t&&(t=m),null==n&&(n=m),a(this,r(m,t,n))},f.rotate=function(m,n,r){return null==n&&(n=0),null==r&&(r=m,m=0),a(this,t(m,n,r))},f.rotateAxisAngle=function(m,t,r,e){if(4!==arguments.length)throw new TypeError("CSSMatrix: expecting 4 values");return a(this,n(m,t,r,e))},f.skewX=function(m){return a(this,e(m))},f.skewY=function(m){return a(this,i(m))},f.setIdentity=function(){return u(this,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])},f.transformPoint=function(t){var n=m(t.x,t.y,t.z);return n.m44=t.w||1,{x:(n=this.multiply(n)).m41,y:n.m42,z:n.m43,w:n.m44}},f.transform=function(m){var t=this,n=t.m11*m.x+t.m12*m.y+t.m13*m.z+t.m14*m.w,r=t.m21*m.x+t.m22*m.y+t.m23*m.z+t.m24*m.w,e=t.m31*m.x+t.m32*m.y+t.m33*m.z+t.m34*m.w,i=t.m41*m.x+t.m42*m.y+t.m43*m.z+t.m44*m.w;return{x:n/i,y:r/i,z:e/i,w:i}},s.Translate=m,s.Rotate=t,s.RotateAxisAngle=n,s.Scale=r,s.SkewX=e,s.SkewY=i,s.Multiply=a,s.fromMatrix=function(m){return new s([m.m11,m.m21,m.m31,m.m41,m.m12,m.m22,m.m32,m.m42,m.m13,m.m23,m.m33,m.m43,m.m14,m.m24,m.m34,m.m44])},s.fromArray=function(m){return u(new s,m)},s.feedFromArray=u;export default s;
