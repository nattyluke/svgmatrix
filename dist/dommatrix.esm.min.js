// DOMMatrix v0.0.13 | thednp Â© 2021 | MIT-License
function m(m){const t=new c,e=Array.from(m);if(16===e.length){const[m,r,n,s,a,i,o,l,c,u,f,h,y,p,M,d]=e;t.m11=m,t.a=m,t.m21=a,t.c=a,t.m31=c,t.m41=y,t.e=y,t.m12=r,t.b=r,t.m22=i,t.d=i,t.m32=u,t.m42=p,t.f=p,t.m13=n,t.m23=o,t.m33=f,t.m43=M,t.m14=s,t.m24=l,t.m34=h,t.m44=d}else{if(6!==e.length)throw new TypeError("CSSMatrix: expecting a 6/16 values Array");{const[m,r,n,s,a,i]=e;t.m11=m,t.a=m,t.m12=r,t.b=r,t.m21=n,t.c=n,t.m22=s,t.d=s,t.m41=a,t.e=a,t.m42=i,t.f=i}}return t}function t(t){return m([t.m11,t.m12,t.m13,t.m14,t.m21,t.m22,t.m23,t.m24,t.m31,t.m32,t.m33,t.m34,t.m41,t.m42,t.m43,t.m44])}function e(t){const e=String(t).replace(/\s/g,"");let r=new c,n=!0;return e.split(")").filter(m=>m).map(m=>{const[t,e]=m.split("("),r=e.split(",").map(m=>m.includes("rad")?parseFloat(m)*(180/Math.PI):parseFloat(m)),[s,a,i,o]=r;return("matrix3d"===t||"rotate3d"===t&&[s,a].every(m=>!Number.isNaN(+m)&&0!==m)&&o||["rotateX","rotateY"].includes(t)&&s||"translate3d"===t&&[s,a,i].every(m=>!Number.isNaN(+m))&&i||"scale3d"===t&&[s,a,i].every(m=>!Number.isNaN(+m)&&m!==s))&&(n=!1),{prop:t,components:r}}).forEach(t=>{const{prop:e,components:s}=t,[a,i,o,l]=s,c=[a,i,o],u=[a,i,o,l];if("perspective"!==e||n)if(e.includes("matrix")){const t=s.map(m=>Math.abs(m)<1e-6?0:m);[6,16].includes(t.length)&&(r=r.multiply(m(t)))}else if(["translate","translate3d"].some(m=>e===m)&&a)r=r.translate(a,i||0,o||0);else if("rotate3d"===e&&u.every(m=>!Number.isNaN(+m))&&l)r=r.rotateAxisAngle(a,i,o,l);else if("scale3d"===e&&c.every(m=>!Number.isNaN(+m))&&c.some(m=>1!==m))r=r.scale(a,i,o);else if("rotate"===e&&a)r=r.rotate(0,0,a);else if("scale"!==e||Number.isNaN(a)||1===a){if("skew"===e&&(a||i))r=a?r.skewX(a):r,r=i?r.skewY(i):r;else if(/[XYZ]/.test(e)&&a)if(e.includes("skew"))r=r[e](a);else{const m=e.replace(/[XYZ]/,""),t=e.replace(m,""),n=["X","Y","Z"].indexOf(t),s=[0===n?a:0,1===n?a:0,2===n?a:0];r=r[m](...s)}}else{const m=Number.isNaN(+i)?a:i;r=r.scale(a,m,1)}else r.m34=-1/a}),r}function r(m,t,e){const r=new c;return r.m41=m,r.e=m,r.m42=t,r.f=t,r.m43=e,r}function n(m,t,e){const r=new c,n=Math.PI/180,s=m*n,a=t*n,i=e*n,o=Math.cos(s),l=-Math.sin(s),u=Math.cos(a),f=-Math.sin(a),h=Math.cos(i),y=-Math.sin(i),p=u*h,M=-u*y;r.m11=p,r.a=p,r.m12=M,r.b=M,r.m13=f;const d=l*f*h+o*y;r.m21=d,r.c=d;const w=o*h-l*f*y;return r.m22=w,r.d=w,r.m23=-l*u,r.m31=l*y-o*f*h,r.m32=l*h+o*f*y,r.m33=o*u,r}function s(m,t,e,r){const n=new c,s=r*(Math.PI/360),a=Math.sin(s),i=Math.cos(s),o=a*a,l=Math.sqrt(m*m+t*t+e*e);let u=m,f=t,h=e;0===l?(u=0,f=0,h=1):(u/=l,f/=l,h/=l);const y=u*u,p=f*f,M=h*h,d=1-2*(p+M)*o;n.m11=d,n.a=d;const w=2*(u*f*o+h*a*i);n.m12=w,n.b=w,n.m13=2*(u*h*o-f*a*i);const N=2*(f*u*o-h*a*i);n.m21=N,n.c=N;const x=1-2*(M+y)*o;return n.m22=x,n.d=x,n.m23=2*(f*h*o+u*a*i),n.m31=2*(h*u*o+f*a*i),n.m32=2*(h*f*o-u*a*i),n.m33=1-2*(y+p)*o,n}function a(m,t,e){const r=new c;return r.m11=m,r.a=m,r.m22=t,r.d=t,r.m33=e,r}function i(m){const t=new c,e=m*Math.PI/180,r=Math.tan(e);return t.m21=r,t.c=r,t}function o(m){const t=new c,e=m*Math.PI/180,r=Math.tan(e);return t.m12=r,t.b=r,t}function l(t,e){return m([e.m11*t.m11+e.m12*t.m21+e.m13*t.m31+e.m14*t.m41,e.m11*t.m12+e.m12*t.m22+e.m13*t.m32+e.m14*t.m42,e.m11*t.m13+e.m12*t.m23+e.m13*t.m33+e.m14*t.m43,e.m11*t.m14+e.m12*t.m24+e.m13*t.m34+e.m14*t.m44,e.m21*t.m11+e.m22*t.m21+e.m23*t.m31+e.m24*t.m41,e.m21*t.m12+e.m22*t.m22+e.m23*t.m32+e.m24*t.m42,e.m21*t.m13+e.m22*t.m23+e.m23*t.m33+e.m24*t.m43,e.m21*t.m14+e.m22*t.m24+e.m23*t.m34+e.m24*t.m44,e.m31*t.m11+e.m32*t.m21+e.m33*t.m31+e.m34*t.m41,e.m31*t.m12+e.m32*t.m22+e.m33*t.m32+e.m34*t.m42,e.m31*t.m13+e.m32*t.m23+e.m33*t.m33+e.m34*t.m43,e.m31*t.m14+e.m32*t.m24+e.m33*t.m34+e.m34*t.m44,e.m41*t.m11+e.m42*t.m21+e.m43*t.m31+e.m44*t.m41,e.m41*t.m12+e.m42*t.m22+e.m43*t.m32+e.m44*t.m42,e.m41*t.m13+e.m42*t.m23+e.m43*t.m33+e.m44*t.m43,e.m41*t.m14+e.m42*t.m24+e.m43*t.m34+e.m44*t.m44])}class c{constructor(...m){const t=this;if(t.a=1,t.b=0,t.c=0,t.d=1,t.e=0,t.f=0,t.m11=1,t.m12=0,t.m13=0,t.m14=0,t.m21=0,t.m22=1,t.m23=0,t.m24=0,t.m31=0,t.m32=0,t.m33=1,t.m34=0,t.m41=0,t.m42=0,t.m43=0,t.m44=1,m&&m.length){let e=m;return m instanceof Array&&(m[0]instanceof Array&&[16,6].includes(m[0].length)||"string"==typeof m[0]||[c,DOMMatrix].some(t=>m[0]instanceof t))&&([e]=m),t.setMatrixValue(e)}return t}set isIdentity(m){this.isIdentity=m}get isIdentity(){const m=this;return 1===m.m11&&0===m.m12&&0===m.m13&&0===m.m14&&0===m.m21&&1===m.m22&&0===m.m23&&0===m.m24&&0===m.m31&&0===m.m32&&1===m.m33&&0===m.m34&&0===m.m41&&0===m.m42&&0===m.m43&&1===m.m44}get is2D(){const m=this;return 0===m.m31&&0===m.m32&&1===m.m33&&0===m.m34&&0===m.m43&&1===m.m44}set is2D(m){this.is2D=m}setMatrixValue(r){return[DOMMatrix,c].some(m=>r instanceof m)?t(r):"string"==typeof r&&r.length&&"none"!==r?e(r):Array.isArray(r)?m(r):this}toString(){const m=this.toArray().join(",");return`${this.is2D?"matrix":"matrix3d"}(${m})`}toArray(){const m=this;let t;return t=m.is2D?[m.a,m.b,m.c,m.d,m.e,m.f]:[m.m11,m.m12,m.m13,m.m14,m.m21,m.m22,m.m23,m.m24,m.m31,m.m32,m.m33,m.m34,m.m41,m.m42,m.m43,m.m44],t.map(m=>Math.abs(m)<1e-6?0:(m*10**6>>0)/10**6)}toJSON(){return JSON.parse(JSON.stringify(this))}multiply(m){return l(this,m)}translate(m,t,e){let n=t,s=e;return null==s&&(s=0),null==n&&(n=0),l(this,r(m,n,s))}scale(m,t,e){let r=t,n=e;return null==r&&(r=m),null==n&&(n=m),l(this,a(m,r,n))}rotate(m,t,e){let r=m,s=t,a=e;return null==s&&(s=0),null==a&&(a=r,r=0),l(this,n(r,s,a))}rotateAxisAngle(m,t,e,r){if([m,t,e,r].some(m=>Number.isNaN(m)))throw new TypeError("CSSMatrix: expecting 4 values");return l(this,s(m,t,e,r))}skewX(m){return l(this,i(m))}skewY(m){return l(this,o(m))}transformPoint(m){let t=r(m.x,m.y,m.z);return t.m44=m.w||1,t=this.multiply(t),{x:t.m41,y:t.m42,z:t.m43,w:t.m44}}transform(m){const t=this,e=t.m11*m.x+t.m12*m.y+t.m13*m.z+t.m14*m.w,r=t.m21*m.x+t.m22*m.y+t.m23*m.z+t.m24*m.w,n=t.m31*m.x+t.m32*m.y+t.m33*m.z+t.m34*m.w,s=t.m41*m.x+t.m42*m.y+t.m43*m.z+t.m44*m.w;return{x:e/s,y:r/s,z:n/s,w:s}}}c.Translate=r,c.Rotate=n,c.RotateAxisAngle=s,c.Scale=a,c.SkewX=i,c.SkewY=o,c.Multiply=l,c.fromArray=m,c.fromMatrix=t,c.fromString=e;export{c as default};
