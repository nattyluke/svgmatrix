// DOMMatrix v0.0.19 | thednp Â© 2021 | MIT-License
!function(m,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(m="undefined"!=typeof globalThis?globalThis:m||self).CSSMatrix=t()}(this,(function(){"use strict";function m(m){if(!m.every((function(m){return!Number.isNaN(m)})))throw TypeError('CSSMatrix: "'+m+'" must only have numbers.');var t=new f,r=Array.from(m);if(16===r.length){var e=r[0],n=r[1],i=r[2],a=r[3],o=r[4],s=r[5],u=r[6],c=r[7],l=r[8],p=r[9],y=r[10],h=r[11],v=r[12],d=r[13],M=r[14],x=r[15];t.m11=e,t.a=e,t.m21=o,t.c=o,t.m31=l,t.m41=v,t.e=v,t.m12=n,t.b=n,t.m22=s,t.d=s,t.m32=p,t.m42=d,t.f=d,t.m13=i,t.m23=u,t.m33=y,t.m43=M,t.m14=a,t.m24=c,t.m34=h,t.m44=x}else{if(6!==r.length)throw new TypeError("CSSMatrix: expecting an Array of 6/16 values.");var w=r[0],N=r[1],b=r[2],g=r[3],S=r[4],A=r[5];t.m11=w,t.a=w,t.m12=N,t.b=N,t.m21=b,t.c=b,t.m22=g,t.d=g,t.m41=S,t.e=S,t.m42=A,t.f=A}return t}function t(t){if([f,DOMMatrix].some((function(m){return t instanceof m}))||"object"==typeof t&&["m11","m12","m13","m14","m21","m22","m23","m24","m31","m32","m33","m34","m41","m42","m43","m44"].every((function(m){return m in t})))return m([t.m11,t.m12,t.m13,t.m14,t.m21,t.m22,t.m23,t.m24,t.m31,t.m32,t.m33,t.m34,t.m41,t.m42,t.m43,t.m44]);throw TypeError('CSSMatrix: "'+t+'" is not a DOMMatrix / CSSMatrix compatible object.')}function r(t){if("string"!=typeof t)throw TypeError('CSSMatrix: "'+t+'" is not a string.');var r=String(t).replace(/\s/g,""),e=new f,n='CSSMatrix: invalid transform string "'+t+'"',i=!0;return r.split(")").filter((function(m){return m})).map((function(m){var t=m.split("("),r=t[0],e=t[1];if(!e)throw TypeError(n);var a=e.split(",").map((function(m){return m.includes("rad")?parseFloat(m)*(180/Math.PI):parseFloat(m)})),o=a[0],s=a[1],u=a[2],f=a[3];return i&&("matrix3d"===r||"rotate3d"===r&&[o,s].every((function(m){return!Number.isNaN(+m)&&0!==m}))&&f||["rotateX","rotateY"].includes(r)&&o||"translate3d"===r&&[o,s,u].every((function(m){return!Number.isNaN(+m)}))&&u||"scale3d"===r&&[o,s,u].every((function(m){return!Number.isNaN(+m)&&m!==o})))&&(i=!1),{prop:r,components:a}})).forEach((function(t){var r=t.prop,a=t.components,o=a[0],s=a[1],u=a[2],f=a[3],c=[o,s,u],l=[o,s,u,f];if("perspective"!==r||i)if(r.includes("matrix")){var p=a.map((function(m){return Math.abs(m)<1e-6?0:m}));[6,16].includes(p.length)&&(e=e.multiply(m(p)))}else if(["translate","translate3d"].some((function(m){return r===m}))&&o)e=e.translate(o,s||0,u||0);else if("rotate3d"===r&&l.every((function(m){return!Number.isNaN(+m)}))&&f)e=e.rotateAxisAngle(o,s,u,f);else if("scale3d"===r&&c.every((function(m){return!Number.isNaN(+m)}))&&c.some((function(m){return 1!==m})))e=e.scale(o,s,u);else if("rotate"===r&&o)e=e.rotate(0,0,o);else if("scale"!==r||Number.isNaN(o)||1===o)if("skew"===r&&(o||s))e=o?e.skewX(o):e,e=s?e.skewY(s):e;else{if(!/[XYZ]/.test(r)||!o)throw TypeError(n);if(r.includes("skew"))e=e[r](o);else{var y=r.replace(/[XYZ]/,""),h=r.replace(y,""),v=["X","Y","Z"].indexOf(h),d=[0===v?o:0,1===v?o:0,2===v?o:0];e=e[y].apply(e,d)}}else{var M=Number.isNaN(+s)?o:s;e=e.scale(o,M,1)}else e.m34=-1/o})),e}function e(m,t,r){var e=new f;return e.m41=m,e.e=m,e.m42=t,e.f=t,e.m43=r,e}function n(m,t,r){var e=new f,n=Math.PI/180,i=m*n,a=t*n,o=r*n,s=Math.cos(i),u=-Math.sin(i),c=Math.cos(a),l=-Math.sin(a),p=Math.cos(o),y=-Math.sin(o),h=c*p,v=-c*y;e.m11=h,e.a=h,e.m12=v,e.b=v,e.m13=l;var d=u*l*p+s*y;e.m21=d,e.c=d;var M=s*p-u*l*y;return e.m22=M,e.d=M,e.m23=-u*c,e.m31=u*y-s*l*p,e.m32=u*p+s*l*y,e.m33=s*c,e}function i(m,t,r,e){var n=new f,i=e*(Math.PI/360),a=Math.sin(i),o=Math.cos(i),s=a*a,u=Math.sqrt(m*m+t*t+r*r),c=m,l=t,p=r;0===u?(c=0,l=0,p=1):(c/=u,l/=u,p/=u);var y=c*c,h=l*l,v=p*p,d=1-2*(h+v)*s;n.m11=d,n.a=d;var M=2*(c*l*s+p*a*o);n.m12=M,n.b=M,n.m13=2*(c*p*s-l*a*o);var x=2*(l*c*s-p*a*o);n.m21=x,n.c=x;var w=1-2*(v+y)*s;return n.m22=w,n.d=w,n.m23=2*(l*p*s+c*a*o),n.m31=2*(p*c*s+l*a*o),n.m32=2*(p*l*s-c*a*o),n.m33=1-2*(y+h)*s,n}function a(m,t,r){var e=new f;return e.m11=m,e.a=m,e.m22=t,e.d=t,e.m33=r,e}function o(m){var t=new f,r=m*Math.PI/180,e=Math.tan(r);return t.m21=e,t.c=e,t}function s(m){var t=new f,r=m*Math.PI/180,e=Math.tan(r);return t.m12=e,t.b=e,t}function u(t,r){return m([r.m11*t.m11+r.m12*t.m21+r.m13*t.m31+r.m14*t.m41,r.m11*t.m12+r.m12*t.m22+r.m13*t.m32+r.m14*t.m42,r.m11*t.m13+r.m12*t.m23+r.m13*t.m33+r.m14*t.m43,r.m11*t.m14+r.m12*t.m24+r.m13*t.m34+r.m14*t.m44,r.m21*t.m11+r.m22*t.m21+r.m23*t.m31+r.m24*t.m41,r.m21*t.m12+r.m22*t.m22+r.m23*t.m32+r.m24*t.m42,r.m21*t.m13+r.m22*t.m23+r.m23*t.m33+r.m24*t.m43,r.m21*t.m14+r.m22*t.m24+r.m23*t.m34+r.m24*t.m44,r.m31*t.m11+r.m32*t.m21+r.m33*t.m31+r.m34*t.m41,r.m31*t.m12+r.m32*t.m22+r.m33*t.m32+r.m34*t.m42,r.m31*t.m13+r.m32*t.m23+r.m33*t.m33+r.m34*t.m43,r.m31*t.m14+r.m32*t.m24+r.m33*t.m34+r.m34*t.m44,r.m41*t.m11+r.m42*t.m21+r.m43*t.m31+r.m44*t.m41,r.m41*t.m12+r.m42*t.m22+r.m43*t.m32+r.m44*t.m42,r.m41*t.m13+r.m42*t.m23+r.m43*t.m33+r.m44*t.m43,r.m41*t.m14+r.m42*t.m24+r.m43*t.m34+r.m44*t.m44])}var f=function m(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];var e=this;if(e.a=1,e.b=0,e.c=0,e.d=1,e.e=0,e.f=0,e.m11=1,e.m12=0,e.m13=0,e.m14=0,e.m21=0,e.m22=1,e.m23=0,e.m24=0,e.m31=0,e.m32=0,e.m33=1,e.m34=0,e.m41=0,e.m42=0,e.m43=0,e.m44=1,t&&t.length){var n=t;return t instanceof Array&&(t[0]instanceof Array&&[16,6].includes(t[0].length)||"string"==typeof t[0]||[m,DOMMatrix].some((function(m){return t[0]instanceof m})))&&(n=t[0]),e.setMatrixValue(n)}return e},c={isIdentity:{configurable:!0},is2D:{configurable:!0}};return c.isIdentity.set=function(m){this.isIdentity=m},c.isIdentity.get=function(){var m=this;return 1===m.m11&&0===m.m12&&0===m.m13&&0===m.m14&&0===m.m21&&1===m.m22&&0===m.m23&&0===m.m24&&0===m.m31&&0===m.m32&&1===m.m33&&0===m.m34&&0===m.m41&&0===m.m42&&0===m.m43&&1===m.m44},c.is2D.get=function(){var m=this;return 0===m.m31&&0===m.m32&&1===m.m33&&0===m.m34&&0===m.m43&&1===m.m44},c.is2D.set=function(m){this.is2D=m},f.prototype.setMatrixValue=function(e){return[DOMMatrix,f].some((function(m){return e instanceof m}))?t(e):"string"==typeof e&&e.length&&"none"!==e?r(e):Array.isArray(e)?m(e):this},f.prototype.toString=function(){var m=this.toArray().join(",");return(this.is2D?"matrix":"matrix3d")+"("+m+")"},f.prototype.toArray=function(){var m=this,t=Math.pow(10,6);return(m.is2D?[m.a,m.b,m.c,m.d,m.e,m.f]:[m.m11,m.m12,m.m13,m.m14,m.m21,m.m22,m.m23,m.m24,m.m31,m.m32,m.m33,m.m34,m.m41,m.m42,m.m43,m.m44]).map((function(m){return Math.abs(m)<1e-6?0:(m*t>>0)/t}))},f.prototype.toJSON=function(){return JSON.parse(JSON.stringify(this))},f.prototype.multiply=function(m){return u(this,m)},f.prototype.translate=function(m,t,r){var n=t,i=r;return null==i&&(i=0),null==n&&(n=0),u(this,e(m,n,i))},f.prototype.scale=function(m,t,r){var e=t,n=r;return null==e&&(e=m),null==n&&(n=m),u(this,a(m,e,n))},f.prototype.rotate=function(m,t,r){var e=m,i=t,a=r;return null==i&&(i=0),null==a&&(a=e,e=0),u(this,n(e,i,a))},f.prototype.rotateAxisAngle=function(m,t,r,e){if([m,t,r,e].some((function(m){return Number.isNaN(m)})))throw new TypeError("CSSMatrix: expecting 4 values");return u(this,i(m,t,r,e))},f.prototype.skewX=function(m){return u(this,o(m))},f.prototype.skewY=function(m){return u(this,s(m))},f.prototype.transformPoint=function(m){var t=e(m.x,m.y,m.z);return t.m44=m.w||1,{x:(t=this.multiply(t)).m41,y:t.m42,z:t.m43,w:t.m44}},f.prototype.transform=function(m){var t=this,r=t.m11*m.x+t.m12*m.y+t.m13*m.z+t.m14*m.w,e=t.m21*m.x+t.m22*m.y+t.m23*m.z+t.m24*m.w,n=t.m31*m.x+t.m32*m.y+t.m33*m.z+t.m34*m.w,i=t.m41*m.x+t.m42*m.y+t.m43*m.z+t.m44*m.w;return{x:r/i,y:e/i,z:n/i,w:i}},Object.defineProperties(f.prototype,c),f.Translate=e,f.Rotate=n,f.RotateAxisAngle=i,f.Scale=a,f.SkewX=o,f.SkewY=s,f.Multiply=u,f.fromArray=m,f.fromMatrix=t,f.fromString=r,f}));
