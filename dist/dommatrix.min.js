// DOMMatrix v0.0.12 | thednp Â© 2021 | MIT-License
!function(m,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(m="undefined"!=typeof globalThis?globalThis:m||self).CSSMatrix=t()}(this,(function(){"use strict";function m(m){var t=new f,e=Array.from(m);if(16===e.length){var r=e[0],n=e[1],i=e[2],a=e[3],o=e[4],s=e[5],u=e[6],c=e[7],l=e[8],p=e[9],y=e[10],h=e[11],v=e[12],d=e[13],M=e[14],w=e[15];t.m11=r,t.a=r,t.m21=o,t.c=o,t.m31=l,t.m41=v,t.e=v,t.m12=n,t.b=n,t.m22=s,t.d=s,t.m32=p,t.m42=d,t.f=d,t.m13=i,t.m23=u,t.m33=y,t.m43=M,t.m14=a,t.m24=c,t.m34=h,t.m44=w}else{if(6!==e.length)throw new TypeError("CSSMatrix: expecting a 6/16 values Array");var x=e[0],N=e[1],g=e[2],b=e[3],A=e[4],S=e[5];t.m11=x,t.a=x,t.m12=N,t.b=N,t.m21=g,t.c=g,t.m22=b,t.d=b,t.m41=A,t.e=A,t.m42=S,t.f=S}return t}function t(t){return m([t.m11,t.m12,t.m13,t.m14,t.m21,t.m22,t.m23,t.m24,t.m31,t.m32,t.m33,t.m34,t.m41,t.m42,t.m43,t.m44])}function e(t){var e=String(t).replace(/\s/g,""),r=new f,n=!0;return e.split(")").filter((function(m){return m})).map((function(m){var t=m.split("("),e=t[0],r=t[1].split(",").map((function(m){return m.includes("rad")?parseFloat(m)*(180/Math.PI):parseFloat(m)})),i=r[0],a=r[1],o=r[2],s=r[3];return("matrix3d"===e||"rotate3d"===e&&[i,a].every((function(m){return!Number.isNaN(+m)&&0!==m}))&&s||["rotateX","rotateY"].includes(e)&&i||"translate3d"===e&&[i,a,o].every((function(m){return!Number.isNaN(+m)}))&&o||"scale3d"===e&&[i,a,o].every((function(m){return!Number.isNaN(+m)&&m!==i})))&&(n=!1),{prop:e,components:r}})).forEach((function(t){var e=t.prop,i=t.components,a=i[0],o=i[1],s=i[2],u=i[3],f=[a,o,s],c=[a,o,s,u];if("perspective"!==e||n)if(e.includes("matrix")){var l=i.map((function(m){return Math.abs(m)<1e-6?0:m}));[6,16].includes(l.length)&&(r=r.multiply(m(l)))}else if(["translate","translate3d"].some((function(m){return e===m}))&&a)r=r.translate(a,o||0,s||0);else if("rotate3d"===e&&c.every((function(m){return!Number.isNaN(+m)}))&&u)r=r.rotateAxisAngle(a,o,s,u);else if("scale3d"===e&&f.every((function(m){return!Number.isNaN(+m)}))&&f.some((function(m){return 1!==m})))r=r.scale(a,o,s);else if("rotate"===e&&a)r=r.rotate(0,0,a);else if("scale"!==e||Number.isNaN(a)||1===a){if("skew"===e&&(a||o))r=a?r.skewX(a):r,r=o?r.skewY(o):r;else if(/[XYZ]/.test(e)&&a)if(e.includes("skew"))r=r[e](a);else{var p=e.replace(/[XYZ]/,""),y=e.replace(p,""),h=["X","Y","Z"].indexOf(y),v=[0===h?a:0,1===h?a:0,2===h?a:0];r=r[p].apply(r,v)}}else{var d=Number.isNaN(+o)?a:o;r=r.scale(a,d,1)}else r.m34=-1/a})),r}function r(m,t,e){var r=new f;return r.m41=m,r.e=m,r.m42=t,r.f=t,r.m43=e,r}function n(m,t,e){var r=new f,n=Math.PI/180,i=m*n,a=t*n,o=e*n,s=Math.cos(i),u=-Math.sin(i),c=Math.cos(a),l=-Math.sin(a),p=Math.cos(o),y=-Math.sin(o),h=c*p,v=-c*y;r.m11=h,r.a=h,r.m12=v,r.b=v,r.m13=l;var d=u*l*p+s*y;r.m21=d,r.c=d;var M=s*p-u*l*y;return r.m22=M,r.d=M,r.m23=-u*c,r.m31=u*y-s*l*p,r.m32=u*p+s*l*y,r.m33=s*c,r}function i(m,t,e,r){var n=new f,i=r*(Math.PI/360),a=Math.sin(i),o=Math.cos(i),s=a*a,u=Math.sqrt(m*m+t*t+e*e),c=m,l=t,p=e;0===u?(c=0,l=0,p=1):(c/=u,l/=u,p/=u);var y=c*c,h=l*l,v=p*p,d=1-2*(h+v)*s;n.m11=d,n.a=d;var M=2*(c*l*s+p*a*o);n.m12=M,n.b=M,n.m13=2*(c*p*s-l*a*o);var w=2*(l*c*s-p*a*o);n.m21=w,n.c=w;var x=1-2*(v+y)*s;return n.m22=x,n.d=x,n.m23=2*(l*p*s+c*a*o),n.m31=2*(p*c*s+l*a*o),n.m32=2*(p*l*s-c*a*o),n.m33=1-2*(y+h)*s,n}function a(m,t,e){var r=new f;return r.m11=m,r.a=m,r.m22=t,r.d=t,r.m33=e,r}function o(m){var t=new f,e=m*Math.PI/180,r=Math.tan(e);return t.m21=r,t.c=r,t}function s(m){var t=new f,e=m*Math.PI/180,r=Math.tan(e);return t.m12=r,t.b=r,t}function u(t,e){return m([e.m11*t.m11+e.m12*t.m21+e.m13*t.m31+e.m14*t.m41,e.m11*t.m12+e.m12*t.m22+e.m13*t.m32+e.m14*t.m42,e.m11*t.m13+e.m12*t.m23+e.m13*t.m33+e.m14*t.m43,e.m11*t.m14+e.m12*t.m24+e.m13*t.m34+e.m14*t.m44,e.m21*t.m11+e.m22*t.m21+e.m23*t.m31+e.m24*t.m41,e.m21*t.m12+e.m22*t.m22+e.m23*t.m32+e.m24*t.m42,e.m21*t.m13+e.m22*t.m23+e.m23*t.m33+e.m24*t.m43,e.m21*t.m14+e.m22*t.m24+e.m23*t.m34+e.m24*t.m44,e.m31*t.m11+e.m32*t.m21+e.m33*t.m31+e.m34*t.m41,e.m31*t.m12+e.m32*t.m22+e.m33*t.m32+e.m34*t.m42,e.m31*t.m13+e.m32*t.m23+e.m33*t.m33+e.m34*t.m43,e.m31*t.m14+e.m32*t.m24+e.m33*t.m34+e.m34*t.m44,e.m41*t.m11+e.m42*t.m21+e.m43*t.m31+e.m44*t.m41,e.m41*t.m12+e.m42*t.m22+e.m43*t.m32+e.m44*t.m42,e.m41*t.m13+e.m42*t.m23+e.m43*t.m33+e.m44*t.m43,e.m41*t.m14+e.m42*t.m24+e.m43*t.m34+e.m44*t.m44])}var f=function m(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var r=this;if(r.a=1,r.b=0,r.c=0,r.d=1,r.e=0,r.f=0,r.m11=1,r.m12=0,r.m13=0,r.m14=0,r.m21=0,r.m22=1,r.m23=0,r.m24=0,r.m31=0,r.m32=0,r.m33=1,r.m34=0,r.m41=0,r.m42=0,r.m43=0,r.m44=1,t&&t.length){var n=t;return t instanceof Array&&(t[0]instanceof Array&&[16,6].includes(t[0].length)||"string"==typeof t[0]||[m,DOMMatrix].some((function(m){return t[0]instanceof m})))&&(n=t[0]),r.setMatrixValue(n)}return r},c={isIdentity:{configurable:!0},is2D:{configurable:!0}};return c.isIdentity.set=function(m){this.isIdentity=m},c.isIdentity.get=function(){var m=this;return 1===m.m11&&0===m.m12&&0===m.m13&&0===m.m14&&0===m.m21&&1===m.m22&&0===m.m23&&0===m.m24&&0===m.m31&&0===m.m32&&1===m.m33&&0===m.m34&&0===m.m41&&0===m.m42&&0===m.m43&&1===m.m44},c.is2D.get=function(){var m=this;return 0===m.m31&&0===m.m32&&1===m.m33&&0===m.m34&&0===m.m43&&1===m.m44},c.is2D.set=function(m){this.is2D=m},f.prototype.setMatrixValue=function(r){return[DOMMatrix,f].some((function(m){return r instanceof m}))?t(r):"string"==typeof r&&r.length&&"none"!==r?e(r):Array.isArray(r)?m(r):this},f.prototype.toString=function(){var m=this.toArray().join(",");return(this.is2D?"matrix":"matrix3d")+"("+m+")"},f.prototype.toArray=function(){var m=this,t=Math.pow(10,6);return(m.is2D?[m.a,m.b,m.c,m.d,m.e,m.f]:[m.m11,m.m12,m.m13,m.m14,m.m21,m.m22,m.m23,m.m24,m.m31,m.m32,m.m33,m.m34,m.m41,m.m42,m.m43,m.m44]).map((function(m){return Math.abs(m)<1e-6?0:(m*t>>0)/t}))},f.prototype.toJSON=function(){return JSON.parse(JSON.stringify(this))},f.prototype.multiply=function(m){return u(this,m)},f.prototype.translate=function(m,t,e){var n=t,i=e;return null==i&&(i=0),null==n&&(n=0),u(this,r(m,n,i))},f.prototype.scale=function(m,t,e){var r=t,n=e;return null==r&&(r=m),null==n&&(n=m),u(this,a(m,r,n))},f.prototype.rotate=function(m,t,e){var r=m,i=t,a=e;return null==i&&(i=0),null==a&&(a=r,r=0),u(this,n(r,i,a))},f.prototype.rotateAxisAngle=function(m,t,e,r){if([m,t,e,r].some((function(m){return Number.isNaN(m)})))throw new TypeError("CSSMatrix: expecting 4 values");return u(this,i(m,t,e,r))},f.prototype.skewX=function(m){return u(this,o(m))},f.prototype.skewY=function(m){return u(this,s(m))},f.prototype.transformPoint=function(m){var t=r(m.x,m.y,m.z);return t.m44=m.w||1,{x:(t=this.multiply(t)).m41,y:t.m42,z:t.m43,w:t.m44}},f.prototype.transform=function(m){var t=this,e=t.m11*m.x+t.m12*m.y+t.m13*m.z+t.m14*m.w,r=t.m21*m.x+t.m22*m.y+t.m23*m.z+t.m24*m.w,n=t.m31*m.x+t.m32*m.y+t.m33*m.z+t.m34*m.w,i=t.m41*m.x+t.m42*m.y+t.m43*m.z+t.m44*m.w;return{x:e/i,y:r/i,z:n/i,w:i}},Object.defineProperties(f.prototype,c),f.Translate=r,f.Rotate=n,f.RotateAxisAngle=i,f.Scale=a,f.SkewX=o,f.SkewY=s,f.Multiply=u,f.fromArray=m,f.fromMatrix=t,f.fromString=e,f}));
