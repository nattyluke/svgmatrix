// DOMMatrix v0.0.9 | thednp Â© 2021 | MIT-License
!function(m,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(m="undefined"!=typeof globalThis?globalThis:m||self).CSSMatrix=t()}(this,(function(){"use strict";function m(m,t){var e=Array.from(t);if(16===e.length){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],u=e[6],f=e[7],c=e[8],l=e[9],p=e[10],h=e[11],y=e[12],v=e[13],d=e[14],w=e[15];m.m11=n,m.a=n,m.m21=o,m.c=o,m.m31=c,m.m41=y,m.e=y,m.m12=r,m.b=r,m.m22=s,m.d=s,m.m32=l,m.m42=v,m.f=v,m.m13=i,m.m23=u,m.m33=p,m.m43=d,m.m14=a,m.m24=f,m.m34=h,m.m44=w}else{if(6!==e.length)throw new TypeError("CSSMatrix: expecting a 6/16 values Array");var M=e[0],g=e[1],x=e[2],b=e[3],A=e[4],S=e[5];m.m11=M,m.a=M,m.m12=g,m.b=g,m.m21=x,m.c=x,m.m22=b,m.d=b,m.m14=A,m.e=A,m.m24=S,m.f=S}return m}function t(t,e){return m(t,[e.m11,e.m12,e.m13,e.m14,e.m21,e.m22,e.m23,e.m24,e.m31,e.m32,e.m33,e.m34,e.m41,e.m42,e.m43,e.m44])}function e(e,n){var r=String(n).trim(),i=180/Math.PI,a=Object.assign(Object.create(e),e),o=Object.assign(Object.create(e),e);return r.replace(/\s/g,"").split(")").filter((function(m){return m})).forEach((function(t){var e=t.split("("),n=e[0],r=e[1],s=r.split(",").map((function(m){return m.includes("rad")?parseFloat(m)*i:parseFloat(m)})),u=s[0],f=s[1],c=s[2],l=s[3],p=[u,f,c],h=[u,f,c,l];if("perspective"===n)o.m34=-1/u;else if(n.includes("matrix")){var y=r.split(",").map(parseFloat).map((function(m){return Math.abs(m)<1e-6?0:m}));[6,16].indexOf(y.length)>-1&&(o=o.multiply(m(a,y)))}else if(["translate","translate3d"].some((function(m){return n===m}))&&u)o=o.translate(u,f||0,c||0);else if("rotate3d"===n&&h.every((function(m){return"number"==typeof m}))&&l)o=o.rotateAxisAngle(u,f,c,l);else if("scale3d"===n&&p.every((function(m){return"number"==typeof m}))&&p.some((function(m){return 1!==m}))){var v=1!==u?u:1,d=1!==f?f:1,w=1!==c?c:1;o=o.scale(v,d,w)}else if("rotate"===n&&u)o=o.rotate(0,0,u);else if("scale"===n&&"number"==typeof u&&1!==u){var M=void 0===f,g=1===u?1:u,x=M?g:f;x=1===x?1:x;var b=M?g:1;o=o.scale(g,x,b)}else if("skew"===n&&(u||f))o=u?o.skewX(u):o,o=f?o.skewY(f):o;else if(/[XYZ]/.test(n)&&u)if(n.includes("skew"))o=o[n](u);else{var A=n.replace(/[XYZ]/,""),S=n.replace(A,""),I=["X","Y","Z"].indexOf(S),O=[0===I?u:0,1===I?u:0,2===I?u:0];o=o[A].apply(o,O)}})),t(e,o)}function n(m,t,e,n){return m.m41=t,m.e=t,m.m42=e,m.f=e,m.m43=n,m}function r(m,t,e,n){var r=Math.PI/180,i=t*r,a=e*r,o=n*r,s=Math.cos(i),u=-Math.sin(i),f=Math.cos(a),c=-Math.sin(a),l=Math.cos(o),p=-Math.sin(o),h=f*l,y=-f*p;m.m11=h,m.a=h,m.m12=y,m.b=y,m.m13=c;var v=u*c*l+s*p;m.m21=v,m.c=v;var d=s*l-u*c*p;return m.m22=d,m.d=d,m.m23=-u*f,m.m31=u*p-s*c*l,m.m32=u*l+s*c*p,m.m33=s*f,m}function i(m,t,e,n,r){var i=r*(Math.PI/360),a=Math.sin(i),o=Math.cos(i),s=a*a,u=Math.sqrt(t*t+e*e+n*n),f=t,c=e,l=n;0===u?(f=0,c=0,l=1):(f/=u,c/=u,l/=u);var p=f*f,h=c*c,y=l*l,v=1-2*(h+y)*s;m.m11=v,m.a=v;var d=2*(f*c*s+l*a*o);m.m12=d,m.b=d,m.m13=2*(f*l*s-c*a*o);var w=2*(c*f*s-l*a*o);m.m21=w,m.c=w;var M=1-2*(y+p)*s;return m.m22=M,m.d=M,m.m23=2*(c*l*s+f*a*o),m.m31=2*(l*f*s+c*a*o),m.m32=2*(l*c*s-f*a*o),m.m33=1-2*(p+h)*s,m}function a(m,t,e,n){return m.m11=t,m.a=t,m.m22=e,m.d=e,m.m33=n,m}function o(m,t){var e=t*Math.PI/180,n=Math.tan(e);return m.m21=n,m.c=n,m}function s(m,t){var e=t*Math.PI/180,n=Math.tan(e);return m.m12=n,m.b=n,m}function u(t,e,n){return m(t,[n.m11*e.m11+n.m12*e.m21+n.m13*e.m31+n.m14*e.m41,n.m11*e.m12+n.m12*e.m22+n.m13*e.m32+n.m14*e.m42,n.m11*e.m13+n.m12*e.m23+n.m13*e.m33+n.m14*e.m43,n.m11*e.m14+n.m12*e.m24+n.m13*e.m34+n.m14*e.m44,n.m21*e.m11+n.m22*e.m21+n.m23*e.m31+n.m24*e.m41,n.m21*e.m12+n.m22*e.m22+n.m23*e.m32+n.m24*e.m42,n.m21*e.m13+n.m22*e.m23+n.m23*e.m33+n.m24*e.m43,n.m21*e.m14+n.m22*e.m24+n.m23*e.m34+n.m24*e.m44,n.m31*e.m11+n.m32*e.m21+n.m33*e.m31+n.m34*e.m41,n.m31*e.m12+n.m32*e.m22+n.m33*e.m32+n.m34*e.m42,n.m31*e.m13+n.m32*e.m23+n.m33*e.m33+n.m34*e.m43,n.m31*e.m14+n.m32*e.m24+n.m33*e.m34+n.m34*e.m44,n.m41*e.m11+n.m42*e.m21+n.m43*e.m31+n.m44*e.m41,n.m41*e.m12+n.m42*e.m22+n.m43*e.m32+n.m44*e.m42,n.m41*e.m13+n.m42*e.m23+n.m43*e.m33+n.m44*e.m43,n.m41*e.m14+n.m42*e.m24+n.m43*e.m34+n.m44*e.m44])}var f=function m(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=this;if(n.a=1,n.b=0,n.c=0,n.d=1,n.e=0,n.f=0,n.m11=1,n.m12=0,n.m13=0,n.m14=0,n.m21=0,n.m22=1,n.m23=0,n.m24=0,n.m31=0,n.m32=0,n.m33=1,n.m34=0,n.m41=0,n.m42=0,n.m43=0,n.m44=1,t&&t.length){var r=t;t instanceof Array&&(t[0]instanceof Array&&[16,6].includes(t[0].length)||"string"==typeof t[0]||[m,DOMMatrix].some((function(m){return t[0]instanceof m})))&&(r=t[0]),n.setMatrixValue(r)}return n},c={isIdentity:{configurable:!0},is2D:{configurable:!0}};return c.isIdentity.set=function(m){this.isIdentity=m},c.isIdentity.get=function(){var m=this;return 1===m.m11&&0===m.m12&&0===m.m13&&0===m.m14&&0===m.m21&&1===m.m22&&0===m.m23&&0===m.m24&&0===m.m31&&0===m.m32&&1===m.m33&&0===m.m34&&0===m.m41&&0===m.m42&&0===m.m43&&1===m.m44},c.is2D.get=function(){var m=this;return 0===m.m31&&0===m.m32&&1===m.m33&&0===m.m34&&0===m.m43&&1===m.m44},c.is2D.set=function(m){this.is2D=m},f.prototype.setMatrixValue=function(n){var r=this;return[DOMMatrix,f].some((function(m){return n instanceof m}))&&t(r,n),"string"==typeof n&&n.length&&"none"!==n&&e(r,n),Array.isArray(n)&&m(r,n),r},f.prototype.toString=function(){var m=this.toArray().join(",");return(this.is2D?"matrix":"matrix3d")+"("+m+")"},f.prototype.toArray=function(){var m=this,t=Math.pow(10,6);return(m.is2D?[m.a,m.b,m.c,m.d,m.e,m.f]:[m.m11,m.m12,m.m13,m.m14,m.m21,m.m22,m.m23,m.m24,m.m31,m.m32,m.m33,m.m34,m.m41,m.m42,m.m43,m.m44]).map((function(m){return Math.abs(m)<1e-6?0:(m*t>>0)/t}))},f.prototype.multiply=function(m){return u(new f,this,m)},f.prototype.translate=function(m,t,e){var r=new f,i=new f,a=t,o=e;return null==o&&(o=0),null==a&&(a=0),u(r,this,n(i,m,a,o))},f.prototype.scale=function(m,t,e){var n=new f,r=new f,i=t,o=e;return null==i&&(i=m),null==o&&(o=m),u(n,this,a(r,m,i,o))},f.prototype.rotate=function(m,t,e){var n=m,i=t,a=e;return null==i&&(i=0),null==a&&(a=n,n=0),u(new f,this,r(new f,n,i,a))},f.prototype.rotateAxisAngle=function(m,t,e,n){if(4!==arguments.length)throw new TypeError("CSSMatrix: expecting 4 values");var r=new f,a=new f;return u(r,this,i(a,m,t,e,n))},f.prototype.skewX=function(m){return u(new f,this,o(new f,m))},f.prototype.skewY=function(m){return u(new f,this,s(new f,m))},f.prototype.transformPoint=function(m){var t=n(new f,m.x,m.y,m.z);return t.m44=m.w||1,{x:(t=this.multiply(t)).m41,y:t.m42,z:t.m43,w:t.m44}},f.prototype.transform=function(m){var t=this,e=t.m11*m.x+t.m12*m.y+t.m13*m.z+t.m14*m.w,n=t.m21*m.x+t.m22*m.y+t.m23*m.z+t.m24*m.w,r=t.m31*m.x+t.m32*m.y+t.m33*m.z+t.m34*m.w,i=t.m41*m.x+t.m42*m.y+t.m43*m.z+t.m44*m.w;return{x:e/i,y:n/i,z:r/i,w:i}},Object.defineProperties(f.prototype,c),f.Translate=n,f.Rotate=r,f.RotateAxisAngle=i,f.Scale=a,f.SkewX=o,f.SkewY=s,f.Multiply=u,f.fromArray=m,f.fromMatrix=t,f.fromString=e,f}));
