// DOMMatrix v0.0.1 | thednp Â© 2020 | MIT-License
!function(m,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(m="undefined"!=typeof globalThis?globalThis:m||self).CSSMatrix=t()}(this,(function(){"use strict";function m(m,n){var e=n.m11*m.m11+n.m12*m.m21+n.m13*m.m31+n.m14*m.m41,i=n.m11*m.m12+n.m12*m.m22+n.m13*m.m32+n.m14*m.m42,r=n.m11*m.m13+n.m12*m.m23+n.m13*m.m33+n.m14*m.m43,s=n.m11*m.m14+n.m12*m.m24+n.m13*m.m34+n.m14*m.m44,o=n.m21*m.m11+n.m22*m.m21+n.m23*m.m31+n.m24*m.m41,a=n.m21*m.m12+n.m22*m.m22+n.m23*m.m32+n.m24*m.m42,u=n.m21*m.m13+n.m22*m.m23+n.m23*m.m33+n.m24*m.m43,f=n.m21*m.m14+n.m22*m.m24+n.m23*m.m34+n.m24*m.m44,l=n.m31*m.m11+n.m32*m.m21+n.m33*m.m31+n.m34*m.m41,h=n.m31*m.m12+n.m32*m.m22+n.m33*m.m32+n.m34*m.m42,c=n.m31*m.m13+n.m32*m.m23+n.m33*m.m33+n.m34*m.m43,d=n.m31*m.m14+n.m32*m.m24+n.m33*m.m34+n.m34*m.m44,p=n.m41*m.m11+n.m42*m.m21+n.m43*m.m31+n.m44*m.m41,y=n.m41*m.m12+n.m42*m.m22+n.m43*m.m32+n.m44*m.m42,M=n.m41*m.m13+n.m42*m.m23+n.m43*m.m33+n.m44*m.m43,v=n.m41*m.m14+n.m42*m.m24+n.m43*m.m34+n.m44*m.m44;return new t(e,i,r,s,o,a,u,f,l,h,c,d,p,y,M,v)}var t=function(){var m=[].slice.call(arguments),t=this;if(m.length)for(var n=m.length;n--;)Math.abs(m[n])<1e-6&&(m[n]=0);if(t.setIdentity(),16==m.length)t.is2D=!1,t.isIdentity=!1,t.m11=t.a=m[0],t.m12=t.b=m[1],t.m13=m[2],t.m14=m[3],t.m21=t.c=m[4],t.m22=t.d=m[5],t.m23=m[6],t.m24=m[7],t.m31=m[8],t.m32=m[9],t.m33=m[10],t.m34=m[11],t.m41=t.e=m[12],t.m42=t.f=m[13],t.m43=m[14],t.m44=m[15];else if(6==m.length)t.is2D=!0,t.isIdentity=!1,t.m11=t.a=m[0],t.m12=t.b=m[1],t.m14=t.e=m[4],t.m21=t.c=m[2],t.m22=t.d=m[3],t.m24=t.f=m[5];else if(1===m.length&&"string"==typeof m[0])t.setMatrixValue(m[0]);else if(m.length>0)throw new TypeError("Invalid Matrix Value")};return t.prototype.setMatrixValue=function(m){m=String(m).trim();var t=this;if(t.setIdentity(),"none"==m)return t;var n,e,i=m.slice(0,m.indexOf("("));if("matrix3d"==i){for(t.is2D=!1,t.isIdentity=!1,e=(n=m.slice(9,-1).split(",")).length;e--;)n[e]=+n[e];t.m11=t.a=n[0],t.m12=t.b=n[1],t.m13=n[2],t.m14=n[3],t.m21=t.c=n[4],t.m22=t.d=n[5],t.m23=n[6],t.m24=n[7],t.m31=n[8],t.m32=n[9],t.m33=n[10],t.m34=n[11],t.m41=t.e=n[12],t.m42=t.f=n[13],t.m43=n[14],t.m44=n[15]}else{if("matrix"!=i)throw new TypeError("Invalid Matrix Value");for(t.is2D=!0,t.isIdentity=!1,e=(n=m.slice(7,-1).split(",")).length;e--;)n[e]=+n[e];t.m11=t.a=n[0],t.m12=t.b=n[2],t.m41=t.e=n[4],t.m21=t.c=n[1],t.m22=t.d=n[3],t.m42=t.f=n[5]}return t},t.prototype.multiply=function(t){return m(this,t)},t.prototype.translate=function(n,e,i){return null==i&&(i=0),0!==this.m34&&i&&(this.is2D=!1),m(this,function(m,n,e){var i=new t;return i.m41=i.e=m,i.m42=i.f=n,i.m43=e,i}(n,e,i))},t.prototype.scale=function(n,e,i){return null==e&&(e=n),null==i&&(i=1),0!==this.m34&&(n!==e||n!==i||e!==i)&&(this.is2D=!1),m(this,function(m,n,e){var i=new t;return i.m11=i.a=m,i.m22=i.d=n,i.m33=e,i}(n,e,i))},t.prototype.rotate=function(n,e,i){return null==e&&(e=n),null==i&&(i=n),0!==this.m34&&(n||e)&&(this.is2D=!1),m(this,function(m,n,e){m*=Math.PI/180,n*=Math.PI/180,e*=Math.PI/180;var i=Math.cos(m),r=-Math.sin(m),s=Math.cos(n),o=-Math.sin(n),a=Math.cos(e),u=-Math.sin(e),f=new t;return f.m11=f.a=s*a,f.m12=f.b=-s*u,f.m13=o,f.m21=f.c=r*o*a+i*u,f.m22=f.d=i*a-r*o*u,f.m23=-r*s,f.m31=r*u-i*o*a,f.m32=r*a+i*o*u,f.m33=i*s,f}(n,e,i))},t.prototype.rotateAxisAngle=function(n,e,i,r){return 0!==this.m34&&(n||e)&&(this.is2D=!1),null==e&&(e=n),null==i&&(i=n),m(this,function(m,n,e,i){i*=Math.PI/360;var r=Math.sin(i),s=Math.cos(i),o=r*r,a=Math.sqrt(m*m+n*n+e*e);0===a?(m=0,n=0,e=1):(m/=a,n/=a,e/=a);var u=m*m,f=n*n,l=e*e,h=new t;return h.m11=h.a=1-2*(f+l)*o,h.m12=h.b=2*(m*n*o+e*r*s),h.m13=2*(m*e*o-n*r*s),h.m21=h.c=2*(n*m*o-e*r*s),h.m22=h.d=1-2*(l+u)*o,h.m23=2*(n*e*o+m*r*s),h.m31=2*(e*m*o+n*r*s),h.m32=2*(e*n*o-m*r*s),h.m33=1-2*(u+f)*o,h.m14=h.m24=h.m34=0,h.m41=h.e=h.m42=h.f=h.m43=0,h.m44=1,h}(n,e,i,r))},t.prototype.skewX=function(n){return m(this,function(m){m*=Math.PI/180;var n=new t;return n.m21=n.c=Math.tan(m),n}(n))},t.prototype.skewY=function(n){return m(this,function(m){m*=Math.PI/180;var n=new t;return n.m12=n.b=Math.tan(m),n}(n))},t.prototype.toString=function(){var m=this;return m.is2D?"matrix("+[m.a,m.b,m.c,m.d,m.e,m.f].join(", ")+")":"matrix3d("+[m.m11,m.m12,m.m13,m.m14,m.m21,m.m22,m.m23,m.m24,m.m31,m.m32,m.m33,m.m34,m.m41,m.m42,m.m43,m.m44].join(", ")+")"},t.prototype.setIdentity=function(){var m=this;return m.is2D=!0,m.isIdentity=!0,m.m11=m.a=1,m.m12=m.b=0,m.m13=0,m.m14=0,m.m21=m.c=0,m.m22=m.d=1,m.m23=0,m.m24=0,m.m31=0,m.m32=0,m.m33=1,m.m34=0,m.m41=m.e=0,m.m42=m.f=0,m.m43=0,m.m44=1,this},t}));
